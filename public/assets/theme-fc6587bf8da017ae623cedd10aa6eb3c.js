!function(e){"use strict";var t=window.CHEF||{};t.initMainMenu=function(){e("#drop-down-left").dropdown_menu({open_delay:50,close_delay:100}),e("#drop-down-left").length&&jQuery("#drop-down-left > li > a").each(function(){var e=jQuery(this).attr("title");if(""!=e&&"undefined"!=e){var t=jQuery(this).text(),a='<span class="k-item-desc">'+e+"</span>";jQuery(this).html(t+a)}})},t.mobileMenuClone="",e("nav#k-menu").length&&(t.mobileMenuClone=e("nav#k-menu").clone().attr("id","navigation-mobile")),t.mobileNav=function(){t.mobileMenuClone.insertAfter("nav#k-menu"),e("nav#navigation-mobile").length&&(e("nav#navigation-mobile").removeClass("k-main-navig"),e("nav#navigation-mobile > ul").removeAttr("id").removeClass("k-dropdown-menu").addClass("list-unstyled"))},t.listenerMenu=function(){e("#mobile-nav-switch").on("click",function(t){e(this).toggleClass("open"),e("nav#navigation-mobile").stop().slideToggle("fast"),t.preventDefault()})},t.topSearchToggle=function(){e("#bt-toggle-search").on("click",function(t){e(this).toggleClass("opened"),e("#top-searchform").stop().slideToggle(150,"",function(){e("#sitesearch").focus()}),t.preventDefault()})},t.chckNavigOpened=function(){var t="block"===e(".visible-xs").css("display")?!0:!1,a="block"===e("nav#navigation-mobile").css("display")?!0:!1;!t&&a&&e("nav#navigation-mobile").css("display","none")},t.googleMaps=function(){e(".map").length&&e(".map").each(function(t,a){var n,o=e(a),i=o.attr("data-gmaptitle"),s=o.attr("id"),l=o.attr("data-gmaplat"),r=o.attr("data-gmaplon"),c=parseInt(o.attr("data-gmapzoom")),d=o.attr("data-gmapmarker"),p=o.attr("data-cname"),u=o.attr("data-caddress"),m=o.attr("data-ccity"),g=""!=o.attr("data-cstate")?", "+o.attr("data-cstate")+" ":"",v=o.attr("data-czip"),f=o.attr("data-ccountry");n=""==p&&""==u&&""==m&&""==g&&""==v&&""==f?"":'<div class="map-info-win"><strong>'+p+"</strong><br />"+u+"<br />"+m+g+v+"<br />"+f+"</div>";var h=new google.maps.LatLng(l,r),y={scrollwheel:!1,draggable:!0,zoomControl:!0,disableDoubleClickZoom:!0,disableDefaultUI:!0,zoom:c,center:h,mapTypeId:google.maps.MapTypeId.ROADMAP},b=[{featureType:"all",stylers:[{saturation:-80}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{hue:"#82a536"},{saturation:40}]},{featureType:"poi.business",elementType:"labels",stylers:[{visibility:"off"}]}],w=new google.maps.StyledMapType(b,{name:"BPS Theme Map"}),C=new google.maps.Map(document.getElementById(s),y),M=""!=d?d:"",k=new google.maps.Marker({position:h,map:C,icon:M,title:i});if(C.mapTypes.set("map_style",w),C.setMapTypeId("map_style"),""!=n){var T=new google.maps.InfoWindow({content:n});T.open(C,k),google.maps.event.addListener(k,"click",function(){T.open(C,k)})}})},t.fancyBoxer=function(){},t.responsiveVideos=function(){e(".video-container").length&&(e(".video-container").fitVids({customSelector:"iframe[src^='http://blip.tv'], iframe[src^='https://w.soundcloud.com']"}),e(".video-container").css("display","block"))},t.responsiveAudios=function(){e(".audio-container").length&&e("audio").audioPlayer({classPrefix:"audioplayer",strPlay:"Play",strPause:"Pause",strVolume:"Volume"})},t.pieChartz=function(){e(".chart").length&&jQuery(".chart").each(function(){var t=e(this).data("color"),a=e(this).data("width"),n=e(this).data("line");e(this).easyPieChart({barColor:t,lineWidth:n,lineCap:"square",size:a,scaleColor:!1,animate:1e3,onStep:function(e){this.$el.find("span").text(~~e)}})})},t.IEpatches=function(){if(navigator.userAgent.match(/IEMobile\/10\.0/)){var e=document.createElement("style");e.appendChild(document.createTextNode("@-ms-viewport{ width: auto!important; }")),document.querySelector("head").appendChild(e)}},e(document).ready(function(){t.initMainMenu(),t.mobileNav(),t.listenerMenu(),t.IEpatches(),t.topSearchToggle(),t.googleMaps(),t.responsiveVideos(),t.responsiveAudios(),t.pieChartz()}),e(window).resize(function(){t.chckNavigOpened()})}(jQuery);