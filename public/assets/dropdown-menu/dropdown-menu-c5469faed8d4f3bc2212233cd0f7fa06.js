!function(o,i,s){o.fn.extend({dropdown_menu:function(e){var t={sub_indicator_class:"dropdown-menu-sub-indicator",vertical_class:"dropdown-menu-vertical",shadow_class:"dropdown-menu-shadow",hover_class:"dropdown-menu-hover",open_delay:150,close_delay:300,animation_open:{opacity:"show"},speed_open:"fast",animation_close:{opacity:"hide"},speed_close:"fast",sub_indicators:!1,drop_shadows:!1,vertical:!1,viewport_overflow:"auto",init:function(){}};version=parseFloat(navigator.appVersion.split("MSIE")[1]);var a=version<8&&s.body.filters;return this.each(function(){var s=o(this),l=s.data("options"),n=o.extend({},t,e,l),r=o('<span class="'+n.sub_indicator_class+'">&#187;</span>');n.vertical&&s.addClass(n.vertical_class),o(">li",s).css({"font-size":s.css("font-size")}),s.css({"font-size":"0"}),s.find("li:has(ul)").each(function(){o(this).addClass(n.sub_indicator_class),n.sub_indicators&&o(">a:first-child",this).append(r.clone());var s=o(">ul",this).css({visibility:"hidden",display:"block"});n.drop_shadows&&s.addClass(n.shadow_class),a&&setTimeout(function(){s.css({width:s.width()})},0),o(this).on({mouseenter:function(){clearTimeout(o(this).data("close_timer")),clearTimeout(o(this).data("open_timer")),o(this).hasClass(n.hover_class)||o(this).data("open_timer",setTimeout(o.proxy(function(){if(o(this).addClass(n.hover_class),s.css(n.vertical?{top:0,left:o(this).width()}:{top:"",left:""}),s.css({visibility:"hidden",display:"block"}),overflow_x=s.offset().left+s.width()>o(i).scrollLeft()+o(i).width(),overflow_y=s.offset().top+s.height()>o(i).scrollTop()+o(i).height(),overflow=overflow_x||overflow_y,overflow&&n.viewport_overflow){var e=10;switch("auto"===n.viewport_overflow&&(n.viewport_overflow=a?"scroll":"move"),n.viewport_overflow){case"move":var t=overflow_x?o(i).scrollLeft()+o(i).width()-s.width()-e:s.offset().left,l=overflow_y?o(i).scrollTop()+o(i).height()-s.height()-e:s.offset().top;s.offset({left:t,top:l});break;case"scroll":if(overflow_x){var r=s.offset().left-o(i).width()+s.width()+e;o("html").animate({scrollLeft:r},"fast")}if(overflow_y){var c=s.offset().top-o(i).height()+s.height()+e;o("html").animate({scrollTop:c},"fast")}}}s.hide().css({visibility:"visible"}),n.animation_open?s.animate(n.animation_open,n.speed_open):s.show()},this),n.open_delay))},mouseleave:function(){clearTimeout(o(this).data("close_timer")),clearTimeout(o(this).data("open_timer")),o(this).data("close_timer",setTimeout(o.proxy(function(){o(this).removeClass(n.hover_class),n.animation_close?s.animate(n.animation_close,n.speed_close,function(){s.css({visibility:"hidden"})}):s.hide().css({visibility:"hidden"})},this),n.close_delay))},touchstart:function(){o(">a:first-child",this).one("click",o.proxy(function(i){return o(this).hasClass(n.hover_class)?!0:void i.preventDefault()},this))}})}),setTimeout(function(){o("ul",s).hide(1).promise().done(function(){n.init.call(s[0])})},0)})}})}(jQuery,window,document);